import 'dart:convert';
import 'dart:typed_data';

import 'package:neo2/classes/pronote/crypto.dart';
import 'package:neo2/classes/pronote/pronote.dart';

void main() async {
  String hash = await Aes().aesToHexa("1");
  assert(hash == "3fa959b13967e0ef176069e01e23c8d7");

  var aesIV = AesIv(Uint8List.fromList(
      [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]));
  String a = aesIV.iv.map((el) => el.toRadixString(16).padLeft(2, '0')).join();

  print(a);
  var rsakey = RsaKey.fromString(
      "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010001",
      "B99B77A3D72D3A29B4271FC7B7300E2F791EB8948174BE7B8024667E915446D4EEA0C2424B8D1EBF7E2DDFF94691C6E994E839225C627D140A8F1146D1B0B5F18A09BBD3D8F421CA1E3E4796B301EEBCCF80D81A32A1580121B8294433C38377083C5517D5921E8A078CDC019B15775292EFDA2C30251B1CCABE812386C893E5");

  rsakey.getKey().encryptData(Uint8List.fromList(aesIV.iv));

  print(putrn(
      base64Encode(rsakey.getKey().encryptData(Uint8List.fromList(aesIV.iv))),
      64));

  /// lHMPrUoQ6IdO11yJhLxY8Q5oZFzJXUDfi5NYAA/WNSSxUHnLLewwfYjH+cw5BWsyie7XhSdWGW1w4JiZ9PoprXGuWJHVyyIZluFEkJCmtZyLDeG/FzSzh1SUx2JgmTOBr9f2MbIFPnb097qI+8A7cqcfMqbSO1/MSXbApPunZqs=
}
